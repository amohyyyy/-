<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ù…Ù†ØµØ© Ù…ÙƒØ³Ø±Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: 'Cairo', sans-serif; background:#f9f5f0; margin:0; padding:0; }
    header { background:#6b4226; color:#fff; padding:15px; text-align:center; }
    nav a { color:white; margin:0 15px; text-decoration:none; }
    section { padding:40px; text-align:center; }
    input, button { padding:10px; margin:5px; border-radius:8px; border:1px solid #ccc; }
    button { background:#6b4226; color:#fff; cursor:pointer; }
    button:hover { background:#8c5a39; }
    .hidden { display:none; }
    .card { background:#fff; padding:20px; margin:20px auto; max-width:500px; border-radius:15px; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
  </style>
</head>
<body>
  <header>
    <h1>ğŸŒ° Ù…Ù†ØµØ© Ù…ÙƒØ³Ø±Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h1>
    <nav>
      <a href="#" onclick="showSection('home')">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      <a href="#" onclick="showSection('courses')">Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª</a>
      <a href="#" onclick="showSection('auth')">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
      <a href="#" onclick="showSection('admin')">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
    </nav>
  </header>

  <!-- Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
  <section id="home" class="card">
    <h2>Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ğŸ‘‹</h2>
    <p>Ù…Ù†ØµØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù„Ù†Ø´Ø± Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©.</p>
  </section>

  <!-- Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª -->
  <section id="courses" class="card hidden">
    <h2>ğŸ“š Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª</h2>
    <div id="coursesList">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
  </section>

  <!-- ØªØ³Ø¬ÙŠÙ„ / Ø¯Ø®ÙˆÙ„ -->
  <section id="auth" class="card hidden">
    <h2>ğŸ”‘ ØªØ³Ø¬ÙŠÙ„ / Ø¯Ø®ÙˆÙ„</h2>
    <input type="email" id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"><br>
    <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"><br>
    <button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</button>
    <button onclick="signup()">ØªØ³Ø¬ÙŠÙ„ Ø¬Ø¯ÙŠØ¯</button>
    <p id="authMsg"></p>
  </section>

  <!-- Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø£Ø¯Ù…Ù† -->
  <section id="admin" class="card hidden">
    <h2>âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
    <p>Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ±Ø³Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©</p>
    <input type="text" id="courseTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒÙˆØ±Ø³"><br>
    <textarea id="courseDesc" placeholder="ÙˆØµÙ Ø§Ù„ÙƒÙˆØ±Ø³"></textarea><br>
    <button onclick="addCourse()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒÙˆØ±Ø³</button>
    <div id="adminMsg"></div>
  </section>

  <!-- Firebase & Ø³ÙƒØ±ÙŠØ¨Øª -->
  <script type="module">
    // ØªÙ‡ÙŠØ¦Ø© Firebase
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword } 
      from "https://www.gstatic.com/firebasejs/10.13.0/firebase-auth.js";
    import { getFirestore, collection, addDoc, getDocs } 
      from "https://www.gstatic.com/firebasejs/10.13.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBvBlbWmFxN1t0Sv0TkWfcYndvgzq6499Y",
      authDomain: "edu-platform-35476.firebaseapp.com",
      projectId: "edu-platform-35476",
      storageBucket: "edu-platform-35476.firebasestorage.app",
      messagingSenderId: "823570222456",
      appId: "1:823570222456:web:656afb19407d955448cc8d",
      measurementId: "G-V7DZRJR57F"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø£Ù‚Ø³Ø§Ù…
    window.showSection = function(id) {
      document.querySelectorAll("section").forEach(s => s.classList.add("hidden"));
      document.getElementById(id).classList.remove("hidden");
    }

    // ØªØ³Ø¬ÙŠÙ„ Ø¬Ø¯ÙŠØ¯
    window.signup = function() {
      const email = document.getElementById("email").value;
      const pass = document.getElementById("password").value;
      createUserWithEmailAndPassword(auth, email, pass)
        .then(() => document.getElementById("authMsg").innerText = "âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨")
        .catch(err => document.getElementById("authMsg").innerText = "âŒ " + err.message);
    }

    // ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„
    window.login = function() {
      const email = document.getElementById("email").value;
      const pass = document.getElementById("password").value;
      signInWithEmailAndPassword(auth, email, pass)
        .then(() => {
          document.getElementById("authMsg").innerText = "âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„";
          showSection("courses");
          loadCourses();
        })
        .catch(err => document.getElementById("authMsg").innerText = "âŒ " + err.message);
    }

    // Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ±Ø³ Ø¬Ø¯ÙŠØ¯
    window.addCourse = async function() {
      const title = document.getElementById("courseTitle").value;
      const desc = document.getElementById("courseDesc").value;
      try {
        await addDoc(collection(db, "courses"), { title, desc });
        document.getElementById("adminMsg").innerText = "âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒÙˆØ±Ø³";
        loadCourses();
      } catch (err) {
        document.getElementById("adminMsg").innerText = "âŒ " + err.message;
      }
    }

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª
    async function loadCourses() {
      const list = document.getElementById("coursesList");
      list.innerHTML = "";
      const snapshot = await getDocs(collection(db, "courses"));
      snapshot.forEach(doc => {
        const c = doc.data();
        list.innerHTML += `<div class="card"><h3>${c.title}</h3><p>${c.desc}</p></div>`;
      });
    }
  </script>
</body>
</html>
